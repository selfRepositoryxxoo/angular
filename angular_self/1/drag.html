<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        div {
            width: 100px;
            height: 100px;
            background: red;
            position: absolute;
            left: 0;
            top: 0;
        }
        div+div{
            background: darkorange;
        }
    </style>
</head>
<body>
<div mydrag></div>
<div mydrag></div>
</body>
</html>
<script src="angular.js"></script>
<script>
    var app = angular.module('app', []);
    app.directive('mydrag', function () {
        return {
            restrict: 'A',
            link: function (scope, element, attrs) {
                element.on('mousedown', function (e) {
                    var disx = e.pageX - element[0].offsetLeft;
                    var disY = e.pageY - element[0].offsetTop;
                    angular.element(document).on('mousemove', function (e) {
                        var l = e.pageX - disx;
                        var t = e.pageY - disY;
                        element.css('top', t + "px");
                        element.css('left', l + "px");
                    });
                    angular.element(document).on('mouseup',function(e){
                        angular.element(document).off()
                    });
                    e.preventDefault()
                })
            }
        }
    })

var app=angular.module('app',[]);
    app.directive('mrdrag',function(){
        return {
            restrict:'A',
            replace:true,
            link:function(){

            }
        }
    })
</script>
